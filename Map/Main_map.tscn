[gd_scene load_steps=26 format=3 uid="uid://cod34d8muen7y"]

[ext_resource type="PackedScene" uid="uid://bib0rhkp2hkud" path="res://Sistemi/Game_Manager.tscn" id="1_283vf"]
[ext_resource type="Script" path="res://Map/Spawner.gd" id="1_y6y8x"]
[ext_resource type="PackedScene" uid="uid://8ec3stwp4kj6" path="res://Sistemi/UI.tscn" id="2_gdtdr"]
[ext_resource type="Script" path="res://Carte/Deck_Manager.gd" id="3_ip5mf"]
[ext_resource type="PackedScene" uid="uid://b7l10nfev0lyt" path="res://Map/tile_map.tscn" id="3_islqw"]
[ext_resource type="PackedScene" uid="uid://bi71harkkxh87" path="res://Scenes/SaveLevel.tscn" id="4_21tcy"]
[ext_resource type="Texture2D" uid="uid://dkkpt8ofwcvf5" path="res://Map/Tile set Finale.png" id="5_qn1u8"]
[ext_resource type="Texture2D" uid="uid://du17m1c3xl4e" path="res://Map/Tile Set Decorazioni.png" id="6_8g58n"]
[ext_resource type="Texture2D" uid="uid://cypc6qjvpgd6m" path="res://Map/Decorazioni/AquaLatidritti.png" id="7_acrsq"]
[ext_resource type="Texture2D" uid="uid://bmdmfo7oejs71" path="res://Map/Decorazioni/decorazioni2.png" id="7_xlnwt"]
[ext_resource type="Texture2D" uid="uid://co1pik0nliph" path="res://Map/Decorazioni/Pavimenti2i.png" id="8_rbu0q"]
[ext_resource type="Texture2D" uid="uid://c7yeenadq4feh" path="res://Map/Decorazioni/Acqualati.png" id="8_y4yps"]
[ext_resource type="Texture2D" uid="uid://b3a0aj0rjmt0f" path="res://Map/Decorazioni/pavimenti.png" id="9_8lto1"]
[ext_resource type="Texture2D" uid="uid://dj6171mpboqw1" path="res://Map/Decorazioni/tileset2x2.png" id="11_usdeh"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_kruxo"]
size = Vector2(242.5, 720)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_qdj1o"]
size = Vector2(40, 720)

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_11k4t"]
texture = ExtResource("5_qn1u8")
2:0/0 = 0
3:0/0 = 0
4:0/0 = 0
5:0/0 = 0
6:0/0 = 0
9:0/0 = 0
10:0/0 = 0
7:0/0 = 0
8:0/0 = 0
2:1/0 = 0
2:2/0 = 0
1:1/0 = 0
1:0/0 = 0
0:0/0 = 0
0:1/0 = 0
0:2/0 = 0
0:3/0 = 0
1:3/0 = 0
1:2/0 = 0
2:3/0 = 0
3:3/0 = 0
4:3/0 = 0
4:2/0 = 0
3:2/0 = 0
5:2/0 = 0
6:2/0 = 0
6:1/0 = 0
5:1/0 = 0
4:1/0 = 0
3:1/0 = 0
7:1/0 = 0
7:2/0 = 0
8:2/0 = 0
9:1/0 = 0
10:1/0 = 0
6:3/0 = 0
7:3/0 = 0
8:3/0 = 0
9:2/0 = 0
10:2/0 = 0
8:1/0 = 0
9:3/0 = 0
10:3/0 = 0
5:3/0 = 0

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_v50vk"]
texture = ExtResource("6_8g58n")
0:0/0 = 0
1:0/0 = 0
2:0/0 = 0
3:0/0 = 0
4:0/0 = 0
5:0/0 = 0
6:0/0 = 0
7:0/0 = 0
0:1/0 = 0
1:1/0 = 0
2:1/0 = 0
3:1/0 = 0
4:1/0 = 0
5:1/0 = 0
6:1/0 = 0
7:1/0 = 0
3:2/0 = 0
4:2/0 = 0
5:2/0 = 0
3:3/0 = 0
4:3/0 = 0
5:3/0 = 0
1:2/0 = 0
1:3/0 = 0
2:3/0 = 0
2:2/0 = 0
0:2/0 = 0
0:3/0 = 0
6:3/0 = 0
7:3/0 = 0
7:2/0 = 0
6:2/0 = 0

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_xrph2"]
texture = ExtResource("7_acrsq")
1:1/0 = 0
2:1/0 = 0
1:2/0 = 0
2:2/0 = 0

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_qccbb"]
texture = ExtResource("8_rbu0q")
0:0/0 = 0
1:0/0 = 0
2:0/0 = 0
0:1/0 = 0
1:1/0 = 0
0:2/0 = 0
1:2/0 = 0
2:2/0 = 0

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_3c084"]
texture = ExtResource("7_xlnwt")
1:1/0 = 0
3:1/0 = 0
5:1/0 = 0
1:3/0 = 0
2:3/0 = 0
4:3/0 = 0
6:3/0 = 0
1:4/0 = 0
2:4/0 = 0

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_hugli"]
texture = ExtResource("8_y4yps")
0:0/0 = 0
2:0/0 = 0
3:0/0 = 0
0:1/0 = 0
1:1/0 = 0
2:1/0 = 0
1:2/0 = 0
3:2/0 = 0
0:3/0 = 0
1:3/0 = 0
3:3/0 = 0

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_qgp08"]
texture = ExtResource("9_8lto1")
0:0/0 = 0
2:0/0 = 0
1:1/0 = 0
0:2/0 = 0
2:2/0 = 0

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_vefnb"]
texture = ExtResource("11_usdeh")
0:0/0 = 0
1:0/0 = 0
2:0/0 = 0
3:0/0 = 0
4:0/0 = 0
5:0/0 = 0
0:1/0 = 0
1:1/0 = 0
2:1/0 = 0
3:1/0 = 0
4:1/0 = 0
5:1/0 = 0
0:2/0 = 0
1:2/0 = 0
2:2/0 = 0
3:2/0 = 0
0:3/0 = 0
1:3/0 = 0
2:3/0 = 0
3:3/0 = 0

[sub_resource type="TileSet" id="TileSet_lap7n"]
sources/0 = SubResource("TileSetAtlasSource_11k4t")
sources/1 = SubResource("TileSetAtlasSource_v50vk")
sources/2 = SubResource("TileSetAtlasSource_3c084")
sources/3 = SubResource("TileSetAtlasSource_hugli")
sources/4 = SubResource("TileSetAtlasSource_qgp08")
sources/9 = SubResource("TileSetAtlasSource_vefnb")
sources/10 = SubResource("TileSetAtlasSource_xrph2")
sources/11 = SubResource("TileSetAtlasSource_qccbb")

[node name="MainMap" type="Node2D"]

[node name="Spawner" type="Node2D" parent="." node_paths=PackedStringArray("Spawn_location")]
script = ExtResource("1_y6y8x")
Spawn_location = NodePath("../Entities")

[node name="GameManager" parent="." node_paths=PackedStringArray("ES", "Mazzo", "UI", "saveload") instance=ExtResource("1_283vf")]
ES = NodePath("../Spawner")
Mazzo = NodePath("../DeckManager")
UI = NodePath("../UI/Ui")
saveload = NodePath("../SaveLevel")

[node name="DeckManager" type="Node2D" parent="." node_paths=PackedStringArray("nodoui", "nodospawn")]
script = ExtResource("3_ip5mf")
nodoui = NodePath("../UI/Ui")
nodospawn = NodePath("../Entities")

[node name="SaveLevel" parent="." instance=ExtResource("4_21tcy")]

[node name="Area_posizionamento" type="Area2D" parent="."]

[node name="CollisionShape2D" type="CollisionShape2D" parent="Area_posizionamento"]
position = Vector2(165.75, 360)
shape = SubResource("RectangleShape2D_kruxo")

[node name="DamageareaP" type="Area2D" parent="."]
position = Vector2(-320, 347)
collision_layer = 0
collision_mask = 12

[node name="CollisionShape2D" type="CollisionShape2D" parent="DamageareaP"]
position = Vector2(340, 13)
shape = SubResource("RectangleShape2D_qdj1o")

[node name="DamageareaEn" type="Area2D" parent="."]
position = Vector2(1260, 360)
collision_layer = 0
collision_mask = 3

[node name="CollisionShape2D" type="CollisionShape2D" parent="DamageareaEn"]
shape = SubResource("RectangleShape2D_qdj1o")

[node name="UI" type="CanvasLayer" parent="."]

[node name="Ui" parent="UI" node_paths=PackedStringArray("gm") instance=ExtResource("2_gdtdr")]
gm = NodePath("../../GameManager")

[node name="TileMap" parent="." instance=ExtResource("3_islqw")]
tile_set = SubResource("TileSet_lap7n")
layer_0/tile_data = PackedInt32Array(0, 524288, 2, 65536, 524288, 2, 131072, 524288, 2, 196608, 524288, 2, 1, 524288, 2, 65537, 524288, 2, 131073, 524288, 2, 196609, 524288, 2, 2, 524288, 2, 65538, 524288, 2, 131074, 524288, 2, 196610, 524288, 2, 3, 524288, 2, 65539, 524288, 2, 131075, 524288, 2, 196611, 524288, 2, 131076, 524288, 2, 196612, 524288, 2, 5, 524288, 2, 6, 524288, 2, 7, 524288, 2, 65543, 524288, 2, 131079, 524288, 2, 196615, 524288, 2, 8, 524288, 2, 65544, 524288, 2, -65534, 524288, 2, 262144, 524288, 2, 262145, 524288, 2, 262143, 524288, 2, 327679, 524288, 2, 262148, 524288, 2, 131082, 524288, 2, 131083, 524288, 2, 131084, 524288, 2, 131085, 524288, 2, 131086, 524288, 2, 196622, 524288, 2, 262158, 524288, 2, 65535, 524288, 2)
layer_1/tile_data = PackedInt32Array()

[node name="Entities" type="Node2D" parent="."]

[connection signal="input_event" from="Area_posizionamento" to="DeckManager" method="_on_area_posizionamento_input_event"]
[connection signal="body_entered" from="DamageareaP" to="GameManager" method="damagearea_entered"]
[connection signal="body_entered" from="DamageareaEn" to="GameManager" method="damagearea_entered"]
